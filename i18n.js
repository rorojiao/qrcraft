const T={
en:{
  brand:"QRCraft",
  home:"Home",generate:"Generate",decode:"Decode",wifi:"WiFi QR",
  heroTitle:"Free QR Code Tools",
  heroSub:"Generate and decode QR codes instantly. No signup, no tracking, 100% client-side.",
  genTitle:"Generate QR Code",genDesc:"Create QR codes for URLs, text, contacts and more",
  decTitle:"Decode QR Code",decDesc:"Upload or paste an image to read QR codes",
  // generate page
  genPageTitle:"QR Code Generator",
  inputLabel:"Text or URL",inputPlaceholder:"Enter text, URL, or any data…",
  fgColor:"Foreground",bgColor:"Background",
  btnGenerate:"Generate",btnDownload:"Download PNG",
  // decode page
  decPageTitle:"QR Code Decoder",
  dropText:"Drop image here or click to upload",
  pasteHint:"You can also paste an image (Ctrl+V)",
  resultLabel:"Decoded Result:",
  noQR:"No QR code found in image",
  // wifi page
  wifiPageTitle:"WiFi QR Code",
  ssidLabel:"Network Name (SSID)",passLabel:"Password",encLabel:"Encryption",
  encNone:"None",
  btnGenWifi:"Generate WiFi QR",
  wifiHint:"Scan this QR code to connect to WiFi automatically",
  // footer
  footerTip:"Tip: ",tipAddr:"Support QRCraft",
  footerCopy:"© 2026 QRCraft. All processing happens in your browser.",
},
zh:{
  brand:"QRCraft",
  home:"首页",generate:"生成",decode:"解码",wifi:"WiFi码",
  heroTitle:"免费二维码工具",
  heroSub:"即时生成和解码二维码。无需注册，不追踪，100%本地运行。",
  genTitle:"生成二维码",genDesc:"为网址、文本、联系人等创建二维码",
  decTitle:"解码二维码",decDesc:"上传或粘贴图片读取二维码",
  genPageTitle:"二维码生成器",
  inputLabel:"文本或网址",inputPlaceholder:"输入文本、网址或任意数据…",
  fgColor:"前景色",bgColor:"背景色",
  btnGenerate:"生成",btnDownload:"下载 PNG",
  decPageTitle:"二维码解码器",
  dropText:"拖放图片到此处或点击上传",
  pasteHint:"也可以粘贴图片 (Ctrl+V)",
  resultLabel:"解码结果：",
  noQR:"图片中未找到二维码",
  wifiPageTitle:"WiFi 二维码",
  ssidLabel:"网络名称 (SSID)",passLabel:"密码",encLabel:"加密方式",
  encNone:"无",
  btnGenWifi:"生成 WiFi 二维码",
  wifiHint:"扫描此二维码可自动连接 WiFi",
  footerTip:"打赏：",tipAddr:"支持 QRCraft",
  footerCopy:"© 2026 QRCraft。所有处理均在浏览器本地完成。",
},
ja:{
  brand:"QRCraft",
  home:"ホーム",generate:"生成",decode:"デコード",wifi:"WiFi QR",
  heroTitle:"無料QRコードツール",
  heroSub:"QRコードを即座に生成・デコード。登録不要、トラッキングなし、100%ブラウザ処理。",
  genTitle:"QRコード生成",genDesc:"URL、テキスト、連絡先などのQRコードを作成",
  decTitle:"QRコードデコード",decDesc:"画像をアップロードまたは貼り付けてQRコードを読み取り",
  genPageTitle:"QRコードジェネレーター",
  inputLabel:"テキストまたはURL",inputPlaceholder:"テキスト、URL、またはデータを入力…",
  fgColor:"前景色",bgColor:"背景色",
  btnGenerate:"生成",btnDownload:"PNG ダウンロード",
  decPageTitle:"QRコードデコーダー",
  dropText:"ここに画像をドロップまたはクリックしてアップロード",
  pasteHint:"画像の貼り付けも可能 (Ctrl+V)",
  resultLabel:"デコード結果：",
  noQR:"画像にQRコードが見つかりません",
  wifiPageTitle:"WiFi QRコード",
  ssidLabel:"ネットワーク名 (SSID)",passLabel:"パスワード",encLabel:"暗号化",
  encNone:"なし",
  btnGenWifi:"WiFi QRコード生成",
  wifiHint:"このQRコードをスキャンするとWiFiに自動接続します",
  footerTip:"チップ：",tipAddr:"QRCraftを応援",
  footerCopy:"© 2026 QRCraft。すべての処理はブラウザ内で行われます。",
}};
let currentLang=localStorage.getItem('qrcraft-lang')||'en';
function t(k){return(T[currentLang]||T.en)[k]||k}
function setLang(l){currentLang=l;localStorage.setItem('qrcraft-lang',l);applyLang();document.querySelectorAll('.lang-switch button').forEach(b=>{b.classList.toggle('active',b.dataset.lang===l)})}
function applyLang(){document.querySelectorAll('[data-i18n]').forEach(el=>{const k=el.dataset.i18n;if(el.placeholder!==undefined&&k.endsWith('Placeholder')){el.placeholder=t(k)}else{el.textContent=t(k)}})}
document.addEventListener('DOMContentLoaded',()=>{document.querySelectorAll('.lang-switch button').forEach(b=>{b.addEventListener('click',()=>setLang(b.dataset.lang));b.classList.toggle('active',b.dataset.lang===currentLang)});applyLang()});
